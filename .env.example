# Exchange Services - Environment Configuration Template
# Copy this file to .env and customize values

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
# Environment: local, development, staging, or production
ENVIRONMENT=local

# Logging configuration
LOG_LEVEL=info          # Options: debug, info, warn, error
LOG_FORMAT=text         # Options: text, json

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_USER=exchange
DB_PASSWORD=change_me
DB_PORT=5432
DB_NAME=exchange_service

# =============================================================================
# SERVICE PORTS
# =============================================================================
PORT_PDP=8082
PORT_CE=8081
PORT_OE=4000

# =============================================================================
# GENERAL SERVICE CONFIGURATION
# =============================================================================
HOST=0.0.0.0
JWT_SECRET=change_me_to_a_secure_secret
CORS=true
RATE_LIMIT=1000

# =============================================================================
# POLICY DECISION POINT (PDP) - DATABASE CONFIGURATION
# =============================================================================
PDP_DB_HOST=postgres
PDP_DB_PORT=5432
PDP_DB_USERNAME=exchange
PDP_DB_PASSWORD=change_me
PDP_DB_NAME=exchange_service
DB_SSLMODE=disable
RUN_MIGRATION=false

# =============================================================================
# CONSENT ENGINE (CE) - DATABASE CONFIGURATION
# =============================================================================
CE_DB_HOST=postgres
CE_DB_PORT=5432
CE_DB_USERNAME=exchange
CE_DB_PASSWORD=change_me
CE_DB_NAME=consent_engine

# Consent Portal URL
CONSENT_PORTAL_URL=http://localhost:5173
CONSENT_PORTAL_CLIENT_ID=change_me

# Database connection settings
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=1h
DB_CONN_MAX_IDLE_TIME=30m
DB_QUERY_TIMEOUT=30s
DB_CONNECT_TIMEOUT=10s
DB_RETRY_ATTEMPTS=3
DB_RETRY_DELAY=1s

# =============================================================================
# ORCHESTRATION ENGINE (OE) - CONFIGURATION
# =============================================================================
OE_CONFIG_PATH=./fl-config.json
OE_SCHEMA_PATH=./schema.graphql

# =============================================================================
# IDP CONFIGURATION
# =============================================================================
IDP_ORG_NAME=lankasoftwarefoundation
IDP_BASE_URL=https://localhost:9443
IDP_ISSUER=https://localhost:9443/oauth2/token
IDP_AUDIENCE=change_me
IDP_JWKS_URL=https://localhost:9443/oauth2/jwks
